<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculate Tax By Using If Condition</title>
  </head>
  <body>
    <h2>Employee Details Page</h2>
    <script>
      var getEmployeeDetails = (message) => prompt(message);

      var displayEmployeeDetails = (key, value) => console.log(key + value);

      var getPFOrHRA = function (basicSalary, type) {
        var total = 0;
        switch (type) {
          case "PF":
            total = basicSalary * 0.14;
            break;
          case "HRA":
            total = basicSalary * 0.25;
            break;
          default:
            console.log("Unknown value");
        }
        return total;
      };

      var calculateTotalSalary = (basicSalary, pfa, hra) =>
        basicSalary + pfa + hra;

      var totalTaxCalculate = function (totalSalary, gender) {
        var totalTax = 0;
        switch (gender) {
          case "Male": {
            if (totalSalary > 100000) totalTax = totalSalary * 0.15;
            else if (totalSalary >= 50000) totalTax = totalSalary * 0.1;
            else if (totalSalary >= 25000) totalTax = totalSalary * 0.05;
            else totalTax = 0;
            break;
          }
          case "Female": {
            if (totalSalary > 100000) totalTax = totalSalary * 0.1;
            else if (totalSalary >= 50000) totalTax = totalSalary * 0.05;
            else totalTax = 0;
            break;
          }
          default:
            console.log("Incorrect Value");
        }
        return totalTax;
      };

      var collectingEmployeeData = function () {
        var employeeName = getEmployeeDetails("Enter Employee Name : "),
          age = parseInt(getEmployeeDetails("Enter Employee Age : ")),
          department = getEmployeeDetails("Enter Employee Department : "),
          gender = getEmployeeDetails("Enter Employee Gender : "),
          basicSalary = parseInt(
            getEmployeeDetails("Enter Employee Basic Salary : ")
          ),
          pf = getPFOrHRA(basicSalary, "PF"),
          hra = getPFOrHRA(basicSalary, "HRA"),
          totalSal = calculateTotalSalary(basicSalary, pf, hra),
          taxTotal = totalTaxCalculate(totalSal, gender);

        var empDate = new Map();
        empDate.set("Employee Name : ", employeeName);
        empDate.set("Employee Age : ", age);
        empDate.set("Employee Gender : ", gender);
        empDate.set("Employee Department : ", department);
        empDate.set("Employee Basic Salary : ", basicSalary);
        empDate.set("Employee Total Salary : ", totalSal);
        empDate.set("Total Tax is : ", taxTotal);
        return empDate;
      };

      var display = function (employeeMap) {
        employeeMap.forEach(function (value, key) {
          displayEmployeeDetails(key, value);
        });
      };

      //all operations
      display(collectingEmployeeData());
    </script>
  </body>
</html>
